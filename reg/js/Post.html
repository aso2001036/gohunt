<html>
	<head>
		  <link rel="stylesheet" href="css/style.css">
  		  <link rel="stylesheet" type="text/css" href="css/Post.css">
		<meta charset="UTF-8">
		<title>投稿</title>
	</head>
<body background="">
<div class="page">
<div class="title"></div>
<div class="post">
<a class="shop_name">店舗名</a>
<div class="kana">
<a class="kana"></a>
</div>
<div class="name_input">
<input type="text" class="name_input">
</div> 
<div class="shop_img"></div>
<div class="locate">
<input type="text" class="location">
</div>
<div class="map">
<input type="button" class="open_map">
</div>
<div class="star">
<a class="star1">入りやすさ</a>
<a class="star2">味</a>
<a class="star3">雰囲気</a>
</div>

</div>
</div>
	<form action="" method="post">
		<div><p>店舗名<br>
		<input type="text" class="shop_name" size="30" placeholder="店舗名を入力"></p>
		<p>店舗の写真を選択<br>
		<input type="file" onChange="imgPreView(event)"><div id="preview"></div>
		<script>
		function imgPreView(event) {
			  var file = event.target.files[0];
			  var reader = new FileReader();
			  var preview = document.getElementById("preview");
			  var previewImage = document.getElementById("previewImage");
			   
			  if(previewImage != null) {
			    preview.removeChild(previewImage);
			  }
			  reader.onload = function(event) {
			    var img = document.createElement("img");
			    img.setAttribute("src", reader.result);
			    img.setAttribute("id", "previewImage");
			    preview.appendChild(img);
			  };
			 
			  reader.readAsDataURL(file);
			}</script>
			</div>
			<p>住所<br>
		<input type="text" class="address" size="30" placeholder="お店の住所を入力"></p>
		<script>
		function  msgdsp() {
	           alert("開発中");
	       }</script>
     <input type="button" class="B1"
     value="地図表示"
     onclick="msgdsp()">
     
		<p>コメント<br>
		<p><input type="text" class="comment" size="70" placeholder="店舗のコメントを入力"></p>
		<p>評価<br>
		<p>入りやすさ<br>
    <div id="stars">
        <span class="star" data-star="1">☆</span>
        <span class="star" data-star="2">☆</span>
        <span class="star" data-star="3">☆</span>
        <span class="star" data-star="4">☆</span>
        <span class="star" data-star="5">☆</span>
    </div>
    
    		<p>味<br>
    <div id="stars">
        <span class="star" data-star="1">☆</span>
        <span class="star" data-star="2">☆</span>
        <span class="star" data-star="3">☆</span>
        <span class="star" data-star="4">☆</span>
        <span class="star" data-star="5">☆</span>
    </div>
    
    		<p>雰囲気<br>
    <div id="stars">
        <span class="star" data-star="1">☆</span>
        <span class="star" data-star="2">☆</span>
        <span class="star" data-star="3">☆</span>
        <span class="star" data-star="4">☆</span>
        <span class="star" data-star="5">☆</span>
    </div>
        <script>
        const stars =  document.getElementsByClassName('star');

        // 星マークにマウスオーバーした時のイベント
        const starMouseover = (e) => {
            const index = Number(e.toElement.getAttribute('data-star'));
            for(let j=0; j < index; j++) {
                stars[j].textContent = '★';
            }
        }

        // 星マークからマウスが離れた時のイベント
        const starMouseout = (e) => {
            for (let j=0; j < stars.length; j++) {
                stars[j].textContent = '☆';
            }
        }

        for (let i=0; i < stars.length; i++) {
            stars[i].addEventListener('mouseover', starMouseover);
            stars[i].addEventListener('mouseout',starMouseout);

            // 星マークをクリックした時のイベント
            stars[i].addEventListener('click', e => {
                for (let j=0; j < stars.length; j++) {
                    stars[j].textContent = '☆';
                }
                const index = Number(e.toElement.getAttribute('data-star'));
                for(let j=0; j<index; j++) {
                    stars[j].textContent = '★';
                }
                // マウスオーバーとマウスアウトのイベント解除
                for(let j=0; j<stars.length; j++) {
                    stars[j].removeEventListener('mouseover', starMouseover);
                    stars[j].removeEventListener('mouseout', starMouseout);
                }

                // // 非同期通信で情報をサーバーサイドに送信する
                // let data = new URLSearchParams();
                // data.append('star',index);
                // fetch('abcde', {
                //     method:'post',
                //     body: data
                // }).then()
                // .catch();

            });
        }
       
    </script>
    
    
		<table>
			<caption>
				<strong>タグ</strong>
			</caption>
		<thead>
     		<tr><th>３行の表の１列目</th><th>３行の表の２列目</th><th>３行の表の３列目</th></tr>
    	</thead>
    		<tbody>
     			<tr><th>タグ1</th><td>タグ2</td><td>タグ3</td></tr>
    			 <tr><th>タグ4</th><td>タグ5</td><td>タグ6</td></tr>
    		</tbody>
		</table>
		<p><input type="button" class="button" value="確認"></p>
		</form>
		<img id="preview">
<!-- 		<script>
		function previewFile(hoge){
			var fileData = new FileReader();
			fileData.onlord = (function(){
				document.getElementById('preview').src = fileData.result;
			});
			fileData.readAsDataURL(hoge.files[0]);
		}
		
		</script> -->
</body>
</html>